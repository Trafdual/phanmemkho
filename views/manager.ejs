<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!-- Boxicons -->
        <link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css'
            rel='stylesheet'>
        <script
            src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
        <link rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
        <script
            src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
        <link rel="stylesheet"
            href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
        <script
            src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
        <script src="https://ansuataohanoi.com/html5_qrcode.js" defer></script>
        <script src="https://ansuataohanoi.com/nhapkho.js" defer></script>
        <script src="https://ansuataohanoi.com/nhanvien.js"></script>
        <script src="https://ansuataohanoi.com/khachhang.js"></script>
        <link rel="stylesheet" href="https://ansuataohanoi.com/trangchu.css">
        <!-- My CSS -->
        <title>Phone</title>
    </head>

    <body>

        <!-- SIDEBAR -->
        <section id="sidebar">
            <a href="#" class="brand">
                <i class='bx bxs-smile'></i>
                <span class="text">MANAGER</span>
            </a>
            <ul class="side-menu top">
                <li class="active">
                    <a href>
                        <i class='bx bxs-dashboard'></i>
                        <span class="text">Dashboard</span>
                    </a>
                </li>
                <li>
                    <a href="#staffManagerLink" id="staffManagerLink">
                        <i class='bx bxs-user-account'></i>
                        <span class="text">Quản lý nhân viên</span>
                        <i class='bx bx-chevron-down arrow'></i>
                    </a>
                    <ul class="submenu" id="staffSubMenu">
                        <li><a href="#" id="DanhsachNhanvien">Danh sách nhân
                                viên</a></li>
                        <li>
                            <a href="#" id="ChamCong">Chấm công</a>
                        </li>
                        <li><a href="#" id="QuanLyKPI">Quản lý KPI</a></li>
                    </ul>
                </li>
                <li>
                    <a id="khachhangManagerLink" href="#khachhangManagerLink">
                        <i class='bx bxs-user-account'></i>
                        <span class="text">Quản lý khách hàng</span>
                    </a>
                </li>
                <li>
                    <a id="productManagerLink" href="#productManagerLink">
                        <i class='bx bxs-devices'></i>
                        <span class="text">Quản lý nhập kho</span>
                    </a>
                </li>
                <li>
                    <a id="tonkhoManagerLink" href="#tonkhoManagerLink">
                        <i class='bx bxs-devices'></i>
                        <span class="text">Quản lý tồn kho</span>
                    </a>
                </li>
                <li>
                    <a id="revenueManagerLink" href="#revenueManagerLink">
                        <i class='bx bxs-report'></i>
                        <span class="text">Báo cáo</span>
                    </a>
                </li>
                <li>
                    <a id="donhangManagerLink" href="#donhangManagerLink">
                        <i class='bx bxs-cart-alt'></i>
                        <span class="text">Quản lý đơn hàng </span>
                    </a>
                </li>
                <li>
                    <a id="taikhoanManagerLink" href="#taikhoanManagerLink">
                        <i class='bx bxs-user-account'></i>
                        <span class="text">Quản lý tài khoản</span>
                    </a>
                </li>
            </ul>
            <ul class="side-menu">
                <li>
                    <a href="/logout" class="logout">
                        <i class='bx bxs-log-out-circle'></i>
                        <span class="text">Logout</span>
                    </a>
                </li>
            </ul>
        </section>
        <!-- SIDEBAR -->

        <!-- CONTENT -->
        <section id="content">
            <!-- NAVBAR -->
            <nav>
                <i class='bx bx-menu'></i>
                <a href="#" class="nav-link"
                    style="margin-right: 900px;">Manager</a>
                <a href="#" class="notification" data-toggle="modal"
                    data-target="#notificationModal">
                    <i class='bx bxs-bell'></i>
                    <span class="num">8</span>
                </a>
                <a href="#" class="profile">
                    <img src="data:image/jpeg;base64,{{user.avatar}}">
                </a>
            </nav>
            <main id="main-content">
                <div class="head-title">
                    <div class="left">
                        <h1>Dashboard</h1>
                        <ul class="breadcrumb">
                            <li>
                                <a href="#">Dashboard</a>
                            </li>
                            <li><i class='bx bx-chevron-right'></i></li>
                            <li>
                                <a class="active" href="#">Home</a>
                            </li>
                        </ul>
                    </div>
                </div>

                <!-- <div class="table-data">
				<div class="order">
					<div class="head">
						<h3>Top 5 truyện nhiều lượt xem nhất</h3>
						<i class='bx bx-search'></i>
						<i class='bx bx-filter'></i>
					</div>
					<table>
						<thead>
							<tr>
								<th>Image</th>
								<th>Manganame</th>
								<th>Author</th>
								<th>View</th>
							</tr>
						</thead>
						<tbody id="manga-list">

						</tbody>
					</table>
				</div>
			</div> -->
            </main>
            <!-- MAIN -->
        </section>
        <!-- CONTENT -->
        <script>
        const allSideMenu = document.querySelectorAll('#sidebar .side-menu.top li a');

        allSideMenu.forEach(item => {
            const li = item.parentElement;

            item.addEventListener('click', function() {
                allSideMenu.forEach(i => {
                    i.parentElement.classList.remove('active');
                })
                li.classList.add('active');
            })
        });

        const menuBar = document.querySelector('#content nav .bx.bx-menu');
        const sidebar = document.getElementById('sidebar');
        sidebar.classList.add('hide');
        menuBar.addEventListener('click', function() {
            sidebar.classList.toggle('hide');
        })

        const searchButton = document.querySelector('#content nav form .form-input button');
        const searchButtonIcon = document.querySelector('#content nav form .form-input button .bx');
        const searchForm = document.querySelector('#content nav form');

        searchButton.addEventListener('click', function(e) {
            if (window.innerWidth < 576) {
                e.preventDefault();
                searchForm.classList.toggle('show');
                if (searchForm.classList.contains('show')) {
                    searchButtonIcon.classList.replace('bx-search', 'bx-x');
                } else {
                    searchButtonIcon.classList.replace('bx-x', 'bx-search');
                }
            }
        })

        if (window.innerWidth < 768) {
            sidebar.classList.add('hide');
        } else if (window.innerWidth > 576) {
            searchButtonIcon.classList.replace('bx-x', 'bx-search');
            searchForm.classList.remove('show');
        }


        window.addEventListener('resize', function() {
            if (this.innerWidth > 576) {
                searchButtonIcon.classList.replace('bx-x', 'bx-search');
                searchForm.classList.remove('show');
            }
        })

        const switchMode = document.getElementById('switch-mode');

        switchMode.addEventListener('change', function() {
            if (this.checked) {
                document.body.classList.add('dark');
            } else {
                document.body.classList.remove('dark');
            }
        })
    </script>

        <script>
        const productManagerLink = document.getElementById('productManagerLink');
        productManagerLink.addEventListener("click", function(event) {
            event.preventDefault();
            sidebar.classList.add('hide');
            fetch('/getloaisanpham')
                .then(response => response.text())
                .then(data => {
                    const mainContent = document.querySelector("#content main");
                    mainContent.innerHTML = data;
                    getloaisanpham()
                })
                .catch(error => console.error('Đã xảy ra lỗi:', error));
        });
        const khachhangManagerLink = document.getElementById('khachhangManagerLink');
        khachhangManagerLink.addEventListener("click", function(event) {
            event.preventDefault();
            sidebar.classList.add('hide');
            fetch('/khachhang')
                .then(response => response.text())
                .then(data => {
                    const mainContent = document.querySelector("#content main");
                    mainContent.innerHTML = data;
                    getkhachhang();
                })
                .catch(error => console.error('Đã xảy ra lỗi:', error));
        });

        const DanhsachNhanvien = document.getElementById('DanhsachNhanvien');
        DanhsachNhanvien.addEventListener("click", function(event) {
            event.preventDefault();
            sidebar.classList.add('hide');
            fetch('/nhanvienweb')
                .then(response => response.text())
                .then(data => {
                    const mainContent = document.querySelector("#content main");
                    mainContent.innerHTML = data;
                    getnhanvien()
                })
                .catch(error => console.error('Đã xảy ra lỗi:', error));
        });
        document.getElementById('staffManagerLink').addEventListener('click', function(e) {
            e.preventDefault();
            var parentLi = this.parentElement;
            parentLi.classList.toggle('submenu-active');
        });
    </script>
    </body>

</html>